# Under the Counter

Under the Counter is a simulation game in which you impersonate a bartender trying to stay afloat and undercover as the prohibition era begins.

## Changelog

- 1.0: created GDD draft
- 1.1: updated GDD draft, highlighted uncertain sections
- 2.0: rewrote and finalized GDD for final release

## Overview and Vision Statement
Under the Counter puts you in the shoes of a bar owner in Korgis, a bustling city with a retro 1920s aesthetic. As prohibition takes effect, you'll need to navigate the underground liquor trade, maximizing your profits while keeping your illegal operations hidden from the authorities.
The game delivers a dynamic and high-pressure experience, blending challenge, strategy, and wit. Its setting is a stylish fusion of jazz-era elegance and old-fashioned charm.
Gameplay unfolds over multiple days, played consecutively until either the final day is reached or the player loses. Each shift presents two main objectives:
- **Stay financially afloat**: Earn enough money through tips and strategic drink choices to keep the bar running another day.
- **Avoid detection**: Manage intoxication levels (since drunk patrons draw unwanted attention), maintain a low profile, and survive surprise raids.
- **Steer clear of trouble**: Certain choices may entangle the player with the mafia, forcing them to pay protection money. Refusing could lead to one of several bad endings.
Decision-making is at the heart of the game. Every choice impacts survival, making strategy a key element in the player’s journey.
The development focus is on crafting a **challenging**, **reactive**, and **decision-driven** experience, where each day brings fresh, engaging gameplay. The game will feature:
- **Well-developed characters** with distinct personalities.
- **Multiple choices with real consequences**, influencing the story’s direction.
- **Several possible endings**, including multiple ways to lose.
- **A newspaper system**, where the player receives daily updates via a mailbox.
- **Collectible trinkets**, adding depth and replayability.
- A **strong story-driven approach**, ensuring a compelling narrative experience.

---
---

## Characters

The protagonist is the Bartender, a young newcomer to Korgis hoping to build a better future. With their savings and some financial support from their family, they buy a bar and start their business.
At the beginning of the game, an elderly former bar owner teaches the player the basics of bartending. He is also a member of the **Bartenders’ Union**, a group that supports bar owners and workers, offering guidance and protection in difficult times.
A key recurring character is the **Inspector**, who first appears to warn the player about the enforcement of prohibition. During raids, he will enter the bar, asking questions and growing suspicious if he notices anything unusual.
The game features a diverse cast of **well-developed characters**, each with distinct personalities and interactions. Some of them have interconnected storylines that the player can uncover based on the drinks they serve. While only a handful of customers will appear in the prototype, more will be introduced in future updates.
**Special Customers** have unique behaviors and roles. These include:
- **Mafia enforcers**, who might demand protection money.
- **Undercover police informants**, who will try to catch the bartender in the act.
- **Members of the city’s criminal organizations**, adding depth and potential threats to the gameplay.
Characters’ drink requests will be influenced by their personalities—some will have specific preferences, while others may give vague or abstract clues, requiring the bartender to figure out the perfect cocktail for them.


## Story

The protagonist is a young newcomer to Korgis, hoping to build a better future. Using their savings and some financial support from their family, they purchase a bar, eager to start their business. However, soon after they settle in, prohibition takes effect, making the sale of alcohol illegal.
Forced to adapt, the bartender must find ways to keep serving alcohol while staying under the radar. Throughout the game, different factions will either aid or oppose them, including the **Bartenders' Union** and the **local mafia**, each with their own interests in the underground liquor trade.

## World

The game world does not adhere perfectly to a historical period, but it's inspired by the prohibition era of the 1920s and 30s in the United States of America. The bar is located in a city called Korgis, situated in an unspecified region of the US.
As the game develops, various events unfold in this fictional world, first of all being a prohibition law which forbids shops from selling and distributing alcohol in any form. 

The city of Korgis is a fair one, where the police protect its citizens while fighting organized crime. Prohibition breaks this balance, making police operations harsher and more frequent, while at the same time often leaving bars and pubs at the mercy of mafia clans, which try to extort money or acquire control.

Korgis is fairly multicultural, and hosts several artistic and musical events on a daily basis. The protagonist's bar will thus be visited by customers of varying social background and economic status.

---
---

## Gameplay

The game is structured into **consecutive days**, each representing a new shift at the bar. While most decisions affect only the current day, certain key choices can have consequences that carry over to the following days.
## Decision Types
Players make **two kinds of choices** that influence the story and future events:
- **Direct choices**, such as responding to the inspector during a raid.
- **Indirect choices**, such as serving the right cocktails, which can impact customer relationships, unlock new storylines, or trigger future events (e.g., unlocking trinkets).
## Daily Routine
Each day starts with the **mailbox**, where the bartender can check **newspapers, letters, and flyers** containing valuable information. These may provide updates about Korgis, new laws, citizen sentiments, upcoming police raids, and even insights about specific customers.
After reading the mail, the player prepares for the shift by **setting up the shop window**, choosing how to advertise the bar. Posters can be bought or swapped out, influencing gameplay with various bonuses or drawbacks. Players can decide how discreet or open they want to be about selling alcohol.
Once the bar opens, the **night shift begins**, and customers start arriving. Throughout the night, scripted events may occur, requiring the bartender to react quickly.
The more alcohol is sold, the **higher the risk of attracting attention**. If too many drunk customers leave the bar, suspicion will rise, increasing the likelihood of a **raid**. During a blitz, the bartender must either:
- **Prevent suspicion** by keeping customers from getting too drunk.
- **Hide evidence** before the authorities arrive.
- **Handle questioning** carefully to avoid getting caught.
At the end of the shift, players review their **earnings and expenses**, assessing whether they can afford to keep the bar running another day.



### Mailbox
**Elements**: mailbox, newspaper, parents’ letter, Bartenders' Union Card, propaganda flyer, theater show advertisement.
**Gameplay**: The player interacts with the mailbox to check their daily mail, which provides:
- Updates on Korgis (new laws, public events, citizen sentiment).
- Hints for handling the inspector during raids.
- Customer-related information that may change based on past choices.
All visual assets maintain a **1920s–30s inspired aesthetic**, reinforcing the game’s atmosphere.


### Shop window

**Elements**: posters, poster shop, owned posters, bartender’s savings, poster descriptions (with bonuses/maluses).
**Gameplay**: Players can buy, remove, or display posters that influence gameplay:
- **Direct advertising** (e.g., a Martini poster) attracts more drinkers but also more scrutiny.
- **Covert advertising** (posters with hidden messages) subtly inform customers about the availability of alcohol.
Each poster affects the game in different ways, such as:
- Increased drink sales but fewer daily customers.
- Longer shifts with fewer patrons.
- Higher risk of raids due to increased drunk patrons.
- More customers but lower tips.
- Extended time to hide alcohol during raids but increased police suspicion.



Posters may be bought, or some may be unlocked after a certain day or after talking with a certain character on a specific day.

### Bar view
**Elements**: under-the-counter storage, counter, mirror, chairs, lamps, clock, wall decorations, wallpapers.
**Gameplay**:
- Customers approach the bar, engage in short dialogue, and place their drink orders.
- Patrons pay after receiving their drink, sometimes leaving a tip.
- Special characters may also appear, including:
	- **The police inspector**
	- **Mafia goons**
	- **A Bartenders’ Union member**
	- **An undercover informant**, who will try to catch the bartender serving alcohol.
Throughout the game, **trinkets** can be unlocked by serving specific drinks, adding decorative elements to the bar, such as:
- Business cards
- A cookie jar
- A medal of valor
- A vinyl record
- An Egyptian relic
- A “Best Bartender” note

### Cocktail preparation

**Elements**: Drag and drop objects such as alcoholic drinks (Verlan, Caledon Ridge, Ferrucci, Cantico), non-alcoholic drinks (Gryte, Shaddock Juice), shaker, placed alongside non-interactive objects such as the bar background, shaker icon display, master book (see master book section below). 

**Gameplay**: In the cocktail creation area, the player will be able to create a cocktail from the available ingredients to satisfy each customer's request. The player can consult the Recipe Book section of the Master Book to know which ingredient(s) to use.

- If the drink is what the customer asked for, the bartender will also receive a tip. 

- If the bartender makes the wrong cocktail, the customer may get angry, leave no tip and leave without drinking the cocktail.

- Finally, serving a correct but watered-down cocktail (by adding tap water) is a way to keep the customer from getting drunk: they will tip less and leave without getting too upset.



Summary:

|                          | CUSTOMER OUTCOME              | PAYMENT                                                           | DRUNKENNESS                          |   |
|--------------------------|-------------------------------|-------------------------------------------------------------------|--------------------------------------|---|
| CORRECT DRINK            | customer **satisfied**        | **yes** with additional **tip**                                   | **yes**                              |   |
| CORRECT BUT WATERED DOWN | customer **mildly satisfied** | **yes** with **no tip**                                           | **no**                               |   |
| INCORRECT                | customer **angry/upset**      | **no**                                                            | **yes** if cocktail is **not watered down**; otherwise **no** |   |


### Police blitz

**Elements**: inspector, bottle-hiding minigame, multiple-choice dialogue

**Gameplay**: a police blitz may happen at some point starting from the 4th day: this can be caused by:
- the bartender selling too many alcoholic drinks to customers (each day has a maximum amount of drunk people which triggers the blitz; this threshold can be modified by certain posters, or by having already received a blitz before)
- serving alcohol to a customer secretly working for the police.

If the right conditions are satisfied the blitz will take place immediately.

In this case a custom interface will appear, letting the player know they need to hide evidence of selling alcohol before the police enters the bar.

1) First, the player will need to hide the alcoholic ingredients inside a safe within a specified time (a time bar will appear on screen for this purpose). The duration of this phase depends on various hidden factors, for example having received a blitz before.

2) Then, upon entering, the inspector will ask a trick question to the bartender. The bartender can answer in two ways, one of which is correct and the other raises suspicion.

If the player hasn't hidden all evidence in time, the bar will be closed and the game ends. If the player answers wrongly to the question, the inspector gets more suspicious and a future blitz may be more likely to happen. Otherwise the player has survived the blitz and can continue as usual. Passing the inspection in this way has positive effects, which means a future blitz may be slightly less likely to happen.

In either case, blitzes are planned to be time-consuming, so as to make the bartender lose time (and subsequently money).

Usually, only one blitz can happen per day, but the player may get from zero up to two blitzes per day with the right conditions.


### Master book
##Elements:
- Recipe book (Cocktail recipes, descriptions, and illustrations)
- Dialogue log (Current day, customer names, dialogues, and choices)
- Active poster effects (Posters currently displayed, their effects, and owned posters)
##Gameplay:
 The master book is a reference book that can be accessed at almost any time in the bar view, providing an overview of the game's current status. It consists of three tabs:
- **Recipe tab**: Displays cocktail recipes, their ingredients, appearance, and a brief description—useful for fulfilling specific customer requests.
- **Dialogue tab**: Logs recent conversations with customers and other characters, allowing the player to review any missed details.
- **Posters tab**: Shows which posters are currently displayed in the shop window, their active effects, and how many posters the player has collected so far.


## Other gameplay elements

### Dialogues

The bartender will engage in very small conversations with customers, which may either reveal important information (e.g. future prohibition laws being discussed, secret codes for alcohol-serving bars, how to spot undercover customers) or just serve as a small distraction during the game. Such short dialogues can be fundamental in quickly fleshing out the customer's personality and habits.

Dialogue lines can be sped up by clicking on the dialogue box or by pressing the spacebar. In the same way the player can proceed to the next line.

### Decisions

Decisions are important in this game, in the sense that the player can make strategic decisions based on their actions. During the blitz minigame, the bartender can choose one of two possible answers to the inspector's questions. Additionally, the player can cause or prevent certain events in the game (like obtaining trinkets or posters, or making some customers meet each other) by fulfilling cocktail orders in a certain way (e.g. watering or not watering a drink).

### Gameplay modes and other features

No additional game modes are planned.

---
---

## Media list

Sprites:
- old former bartender
- bartenders' union representative
- police inspector
- customers
- cocktail ingredients, cocktails, garnishes, shaker
- counter and trinkets
- posters
- daily newspapers, bartenders' union slips of paper, and other papers

Images:
- backgrounds for bar, shop window, menu, introduction screen

Sounds:
- sound effects for
	- master book
	- a customer entering/leaving
	- posters being hung/torn down
	- blitz events

Soundtrack:
- Main menu (medium length)
- Introduction (medium length)
- Shop window (short/medium length)
- Bar (high length)
- End of day (short length)
- Win/lose tracks (short length)

## Technical specifications

None in particular.

## Team
1. Gloria Gaggelli (project leader, game designer, artist) 
2. Gregorio Dimaglie (developer)
3. Mohammad Arshya Jabbarizadegan (developer)
4. Luca Simei  (developer)
5. Riccardo Speroni (developer)

## Deadlines and team meetings

### Meeting - 13/10

- heavy brainstorming
- extensive moodboard
- initial outline of the game
- general aesthetic and feel
- poster design, character design, interior design, design of the cocktails
- discussed suitable gameplay and UI elements from similar games
- discussed what constitutes the MVP and what are instead optional additional elements, concepts and mechanics

### Meeting - 15/10

- discussed window shop mechanic, cocktail mechanic, blitz mechanic
- discussed wrong cocktails mechanic
- additional character design on the moodboard

### Meeting - 20/10

- updated character design on the moodboard
- updated GDD; highlighted uncertain sections
- discussed blitz mechanic
- defined in-game events and outlined game story
- outlined recurring and important characters
- discussed how characters and events intertwine with and influence the gameplay
- note: meeting lasted with varying participants from 9:30 till 20:30

### Meeting - 24/10
- defined cocktails and cocktail ingredients
- draft of cocktail creation area
- defined and sketched the 10 customers + 2 special characters present in the prototype, and fleshed out their personality and dialogues
- specified amount of customers and duration in minutes in each day

### Meeting - 25/10
- reviewed GDD draft
- brainstorming of blitz minigame
- finalized bar layout and developed cocktail creation layout 
- set up Trello board and started organizing coding tasks

### Meeting - 27/10
- finalized inspection mechanic and the two blitz minigames
- finalized some details on inspection and cocktail preparation layout
- completed GDD (but final revision needed)
- completed character designs
- completed setup of Trello board and GitHub repo to all 5 team members

### Meeting - 29/10
- final revision of GDD, ready for [04/11 deadline](#deadline-gdd-and-github-repo---0411)
- creation and assignment of coding tasks to developers
- creation of Gantt chart for development until beta deadline

### Deadline (GDD and GitHub repo) - 04/11
- with the GDD already set up, we split the workload between the programmers and identified priorities and secondary assets with the designer

### Deadline (prototype submission) - 08/12
- the group took roughly a week off

### Deadline (all prototype feedbacks received) - 11/12
- reviewed all feedbacks, categorized them, and discussed priorities and nice-to-haves in group
- split workload among group members

### Meeting - 26/12
- follow-up meeting to identify critical bugs, missing features, and to split workload between group members

### Deadline (beta submission) - 12/01-19/01
- bugfixes and balancing to the game’s economy system
- designed and implemented “mailbox view” at the beginning of every day, including newspapers and other important elements
- implemented web build

### Deadline (before final project submission) - 17/02
- rewrote and updated GDD with latest additions
- obtained and uploaded necessary files for deadline
